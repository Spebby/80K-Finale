[gd_scene load_steps=26 format=4 uid="uid://b825x5oti1hk4"]

[ext_resource type="Script" path="res://Scripts/Room.cs" id="1_rrnh3"]
[ext_resource type="Texture2D" uid="uid://o20aq1o4bdfb" path="res://PastTileset.png" id="2_qkm0a"]
[ext_resource type="Texture2D" uid="uid://bh741o7rtt1r3" path="res://FutureTileset.png" id="3_ukrj2"]
[ext_resource type="Resource" uid="uid://3vu64pc40tin" path="res://Scenes/OnTimeShift.tres" id="4_lqcal"]
[ext_resource type="TileSet" uid="uid://bly4ojx5jnbn8" path="res://Tileset.tres" id="5_cy80s"]
[ext_resource type="Script" path="res://Scripts/MovingPlatformManager.cs" id="6_0ii5g"]
[ext_resource type="Script" path="res://Scripts/PathManager.cs" id="7_0bfor"]
[ext_resource type="Resource" uid="uid://ij18v8xdbwpk" path="res://Entity/VehicleCollection.tres" id="8_orlsp"]
[ext_resource type="Resource" uid="uid://6incnm885h52" path="res://Entity/BoatCollection.tres" id="9_rwhqk"]
[ext_resource type="Script" path="res://Scripts/Checkpoint.cs" id="10_tx03u"]
[ext_resource type="PackedScene" uid="uid://bvomsu52de8ng" path="res://Entity/time_piece.tscn" id="11_0sgiw"]
[ext_resource type="Texture2D" uid="uid://dkeoykq3vjrur" path="res://TestPallete.png" id="12_pjp5g"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_uwl4j"]
size = Vector2(960, 544)

[sub_resource type="Curve2D" id="Curve2D_lcaoo"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -450, 0, 0, 0, 0, 0, 250, 0)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_qgdhx"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -64, 0, 0, 0, 0, 0, 160, 0)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_mesv6"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -80, 0, 0, 0, 0, 0, 144, 0)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_axupc"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -48, 0, 0, 0, 0, 0, 96, 0)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_seimi"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -63.9999, 32.0002, 0, 0, 0, 0, 64.0001, 31.9998, 0, 0, 0, 0, 63.9999, -32.0002, 0, 0, 0, 0, -64.0001, -31.9998, 0, 0, 0, 0, -63.9999, 32.0002)
}
point_count = 5

[sub_resource type="RectangleShape2D" id="RectangleShape2D_agoa4"]
size = Vector2(20, 6.39999)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8g306"]
size = Vector2(1.28, 6.39999)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lqoda"]
size = Vector2(29, 64)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wm45k"]
size = Vector2(30.5, 96)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_u6t0u"]
size = Vector2(87.25, 112)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lfv4g"]
size = Vector2(558.546, 204.8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_w6g0i"]
size = Vector2(128, 64)

[node name="Room" type="Area2D" node_paths=PackedStringArray("PAST_OBJECTS", "FUTURE_OBJECTS")]
collision_layer = 16
collision_mask = 16
script = ExtResource("1_rrnh3")
PAST_TILESET = ExtResource("2_qkm0a")
FUTURE_TILESET = ExtResource("3_ukrj2")
PAST_OBJECTS = NodePath("PAST_OBJECTS")
FUTURE_OBJECTS = NodePath("FUTURE_OBJECTS")
onTimeShift = ExtResource("4_lqcal")

[node name="Bounds" type="CollisionShape2D" parent="."]
position = Vector2(-32, -143)
shape = SubResource("RectangleShape2D_uwl4j")
debug_color = Color(0.395669, 0.469853, 1, 0.42)

[node name="Tilesets" type="Node2D" parent="."]
metadata/_edit_lock_ = true

[node name="Ground" type="TileMapLayer" parent="Tilesets"]
tile_map_data = PackedByteArray("AAD8//3/AAAAAAUAAAD9//3/AAABAAUAAAD+//3/AAACAAUAAAD7/wEAAAAAAAYAAAD8/wEAAAABAAYAAAD9/wEAAAACAAYAAAD+/wIAAAAJAAIAAAD//wIAAAAIAAMAAAAAAAIAAAACAAYAAAABAAIAAAAAAAYAAAACAAIAAAABAAYAAAADAAIAAAACAAYAAAD+/wEAAAACAAYAAAD//wAAAAAAAAAAAAD//wEAAAAGAAMAABAAAAAAAAACAAEAAAAAAAEAAAABAAEAAAABAAAAAAAAAAAAAAABAAEAAAAAAAEAAAACAAAAAAABAAAAABACAAEAAAAAAAEAAAADAAAAAAABAAAAAAADAAEAAAABAAEAAAD///7/AAAAAAAAAAD/////AAAAAAEAAAAAAP7/AAABAAAAAAAAAP//AAABAAEAAAABAP7/AAAAAAAAAAABAP//AAACAAAAAAACAP7/AAABAAAAABACAP//AAABAAEAABD9////AAAAAAEAACD+////AAABAAEAACD9//7/AAAAAAEAACD+//7/AAABAAEAACD8//7/AAAAAAEAADD7//7/AAABAAEAADD8////AAABAAAAAAD7////AAAAAAAAAAADAP//AAAAAAEAABADAP7/AAAAAAAAABD8/wAAAAACAAEAAAD7/wAAAAAAAAEAAAD9/wAAAAAAAAAAACD+/wAAAAABAAAAACD7//3/AAABAAUAAAD///3/AAABAAUAAAAAAP3/AAAGAAMAADABAP3/AAABAAEAAAACAP3/AAABAAUAAAADAP3/AAABAAUAAAD6////AAAGAAAAAAD6/wAAAAAGAAEAAAD6//3/AAAIAAIAAAD6//7/AAAGAAEAAAD6/wEAAAAIAAMAAAAEAAEAAAABAAAAAAAFAAEAAAABAAAAAAAFAAIAAAABAAYAAAAEAAIAAAABAAYAAAD///z/AAABAAEAAAAAAPz/AAABAAEAAAABAPz/AAABAAAAAAD+//z/AAABAAEAAAD9//z/AAABAAEAAAD8//z/AAABAAEAAAD7//z/AAABAAEAAAD6//z/AAABAAEAAAD6/wIAAAAAAAUAAAD7/wIAAAAAAAUAAAD8/wIAAAAAAAUAAAD+/wMAAAAGAAYAAAD//wMAAAAAAAUAAAAAAAMAAAAAAAUAAAABAAMAAAAAAAUAAAACAAMAAAAAAAUAAAADAAMAAAAAAAUAAAAEAAMAAAAAAAUAAAAFAAMAAAAAAAUAAAD9/wIAAAAAAAUAAAD3//z/AAABAAEAAAD3//3/AAAJAAAAADD3//7/AAABAAEAAAD3////AAAAAAEAAAD3/wAAAAABAAEAAAD3/wEAAAAJAAAAAGD3/wIAAAABAAYAAGD2/wIAAAABAAUAAGD2/wEAAAACAAUAAGD2/wAAAAAJAAAAAAD2////AAAAAAEAAAD2//7/AAAAAAEAAAD2//3/AAAJAAAAAFD2//z/AAABAAEAAAD2/wMAAAACAAYAAHD3/wMAAAACAAUAAHAKAPz/AAABAAEAAAAKAP3/AAAAAAYAAGAKAP7/AAAAAAYAAGAKAP//AAAAAAYAAGAKAAAAAAAAAAYAAGAKAAEAAAAAAAYAAGAKAAIAAAAJAAMAAAAJAAIAAAAAAAUAADAJAAEAAAAAAAAAACAJAAAAAAAAAAAAACAJAP//AAAAAAAAACAJAP7/AAAAAAAAACAJAP3/AAAAAAAAACAJAPz/AAABAAEAAAD4/wIAAAAIAAIAAAD4/wMAAAAAAAUAAGD1/wIAAAAAAAUAAFD1/wMAAAAAAAUAAFD1//z/AAABAAEAAAD0//z/AAABAAEAAADz//z/AAABAAEAAADy//z/AAABAAEAAAD5//z/AAABAAEAAAD4//z/AAABAAEAAAD5/wIAAAAAAAUAAAD0/wEAAAAAAAUAAADz/wEAAAAAAAUAAADy/wEAAAAAAAUAAAD1/wEAAAAJAAIAAAD0////AAAAAAAAAAD0/wAAAAAGAAAAAGD1////AAABAAAAAAD1/wAAAAAGAAEAAGDy//7/AAAAAAAAAGDy//3/AAAGAAEAAFDz//7/AAAAAAEAAGDz//3/AAAGAAAAAFD0//7/AAABAAAAAED1//7/AAABAAEAAED0//3/AAAGAAEAAFD1//3/AAAGAAAAAFDz////AAACAAEAAADy////AAAAAAEAAFDz/wAAAAAGAAEAAGDy/wAAAAAGAAAAAGD4/wEAAAAJAAMAAAD4/wAAAAACAAYAAGD4////AAACAAYAAGD4//7/AAACAAYAAGD4//3/AAAJAAIAAAAJAAMAAAAAAAUAAAAKAAMAAAAAAAUAAAALAAIAAAAAAAUAAGALAAEAAAAAAAUAAGALAAAAAAAAAAUAAGALAP//AAAAAAUAAGALAP7/AAAAAAUAAGALAAMAAAAAAAUAAGALAP3/AAAAAAUAAGALAPz/AAABAAEAAADw/wAAAAAAAAYAAADw////AAABAAEAACDx//3/AAACAAYAACDw//3/AAABAAYAACDx//7/AAAAAAAAADDw//7/AAAFAAEAAADx////AAABAAAAAADx/wAAAAACAAYAAADw/wEAAAAAAAUAAADx/wEAAAAAAAUAAADw//z/AAAAAAUAACDx//z/AAAAAAUAACAMAPz/AAABAAEAAAACAPz/AAABAAEAAAADAPz/AAABAAEAAAAEAPz/AAABAAEAAAAFAPz/AAABAAEAAAAGAPz/AAABAAEAAAAHAPz/AAABAAEAAAAIAPz/AAABAAEAAAANAPz/AAABAAEAAAA=")
tile_set = ExtResource("5_cy80s")
rendering_quadrant_size = 32
collision_enabled = false

[node name="Water" type="TileMapLayer" parent="Tilesets"]
position = Vector2(0, -1)
tile_set = ExtResource("5_cy80s")

[node name="Wall" type="TileMapLayer" parent="Tilesets"]
tile_map_data = PackedByteArray("AADy/wEAAAAIAAcAACABAP7/AAADAAQAAAACAPn/AAADAAUAAAAEAPn/AAAEAAUAAAAHAPz/AAAFAAQAAAD9//7/AAAFAAIAAAAEAAIAAAAFAAIAAAAKAAEAAAAFAAIAAAD7/wAAAAAFAAUAAAA=")
tile_set = ExtResource("5_cy80s")

[node name="MovingPlatforms" type="Node2D" parent="."]
script = ExtResource("6_0ii5g")
metadata/_edit_lock_ = true

[node name="Wagon" type="Path2D" parent="MovingPlatforms"]
position = Vector2(-288, -16)
rotation = 1.5708
curve = SubResource("Curve2D_lcaoo")
script = ExtResource("7_0bfor")
vehicles = ExtResource("8_orlsp")
count = 2
interval = 3.0
overrideLoopBehavior = true
Loop = true

[node name="BoatPath0" type="Path2D" parent="MovingPlatforms"]
position = Vector2(176, -176)
curve = SubResource("Curve2D_qgdhx")
script = ExtResource("7_0bfor")
vehicles = ExtResource("9_rwhqk")
count = 1
speedMultipler = 1.5

[node name="BoatPath2" type="Path2D" parent="MovingPlatforms"]
position = Vector2(272, -64)
rotation = -1.5708
curve = SubResource("Curve2D_mesv6")
script = ExtResource("7_0bfor")
vehicles = ExtResource("9_rwhqk")
count = 1

[node name="BoatPath3" type="Path2D" parent="MovingPlatforms"]
position = Vector2(160, 48)
curve = SubResource("Curve2D_axupc")
script = ExtResource("7_0bfor")
vehicles = ExtResource("9_rwhqk")
count = 1

[node name="BoatPath4" type="Path2D" parent="MovingPlatforms"]
position = Vector2(-208, -16)
rotation = 1.5708
curve = SubResource("Curve2D_seimi")
script = ExtResource("7_0bfor")
vehicles = ExtResource("9_rwhqk")
count = 1
Loop = true

[node name="Checkpoints" type="Node2D" parent="."]
metadata/_edit_lock_ = true

[node name="Checkpoint_0" type="Area2D" parent="Checkpoints" node_paths=PackedStringArray("Point")]
position = Vector2(240, -400)
collision_layer = 0
script = ExtResource("10_tx03u")
Point = NodePath("RespawnPoint")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Checkpoints/Checkpoint_0"]
scale = Vector2(5, 5)
shape = SubResource("RectangleShape2D_agoa4")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Checkpoints/Checkpoint_0"]
position = Vector2(128, 192)
scale = Vector2(25, 25)
shape = SubResource("RectangleShape2D_8g306")

[node name="RespawnPoint" type="Marker2D" parent="Checkpoints/Checkpoint_0"]
position = Vector2(32, 96)

[node name="Checkpoint_1" type="Area2D" parent="Checkpoints" node_paths=PackedStringArray("Point")]
position = Vector2(-481, -32)
collision_layer = 0
script = ExtResource("10_tx03u")
Point = NodePath("RespawnPoint")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Checkpoints/Checkpoint_1"]
scale = Vector2(2, 2)
shape = SubResource("RectangleShape2D_lqoda")

[node name="RespawnPoint" type="Marker2D" parent="Checkpoints/Checkpoint_1"]

[node name="Checkpoint_2" type="Area2D" parent="Checkpoints" node_paths=PackedStringArray("Point")]
position = Vector2(-112, -16)
collision_layer = 0
script = ExtResource("10_tx03u")
Point = NodePath("RespawnPoint")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Checkpoints/Checkpoint_2"]
scale = Vector2(2, 2)
shape = SubResource("RectangleShape2D_wm45k")

[node name="RespawnPoint" type="Marker2D" parent="Checkpoints/Checkpoint_2"]

[node name="Checkpoint_3" type="Area2D" parent="Checkpoints" node_paths=PackedStringArray("Point")]
position = Vector2(48, 16)
collision_layer = 0
script = ExtResource("10_tx03u")
Point = NodePath("RespawnPoint")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Checkpoints/Checkpoint_3"]
position = Vector2(40.75, -16)
scale = Vector2(2, 2)
shape = SubResource("RectangleShape2D_u6t0u")

[node name="RespawnPoint" type="Marker2D" parent="Checkpoints/Checkpoint_3"]

[node name="TimePiece" parent="." instance=ExtResource("11_0sgiw")]
position = Vector2(113, -206)

[node name="PAST_OBJECTS" type="Node2D" parent="."]
visible = false
metadata/_edit_lock_ = true

[node name="Area2D" type="Area2D" parent="PAST_OBJECTS"]
position = Vector2(0, -64)
scale = Vector2(0.34375, 0.3125)

[node name="CollisionShape2D" type="CollisionShape2D" parent="PAST_OBJECTS/Area2D"]
shape = SubResource("RectangleShape2D_lfv4g")

[node name="Sprite2D" type="Sprite2D" parent="PAST_OBJECTS/Area2D"]
position = Vector2(0, 1.90735e-05)
scale = Vector2(1.09091, 0.8)
texture = ExtResource("2_qkm0a")

[node name="FUTURE_OBJECTS" type="Node2D" parent="."]
visible = false
metadata/_edit_lock_ = true

[node name="Area2D" type="Area2D" parent="FUTURE_OBJECTS"]
position = Vector2(80, 80)

[node name="CollisionShape2D" type="CollisionShape2D" parent="FUTURE_OBJECTS/Area2D"]
position = Vector2(-16, -16)
shape = SubResource("RectangleShape2D_w6g0i")

[node name="Sprite2D" type="Sprite2D" parent="FUTURE_OBJECTS/Area2D"]
position = Vector2(-16, -16)
texture = ExtResource("12_pjp5g")
